(()=>{var C=Object.create;var g=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var j=(e,t)=>()=>(e&&(t=e(e=0)),t);var h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R=(e,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of W(t))!k.call(e,n)&&n!==s&&g(e,n,{get:()=>t[n],enumerable:!(l=N(t,n))||l.enumerable});return e};var y=(e,t,s)=>(s=e!=null?C(K(e)):{},R(t||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));function o(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var c=j(()=>{});var w=h((ce,x)=>{c();x.exports=o("vendor")().React});var v=h((de,E)=>{c();E.exports=o("NeosProjectPackages")().ReactUiComponents});c();var S=o("manifest");var r=y(w()),i=y(v());var u={inputWrapper:"SmInCG_inputWrapper",input:"SmInCG_input",list:"SmInCG_list",submitButton:"SmInCG_submitButton"};var q=e=>e.key,B=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),F=e=>{let t={unique:!0};return B(e)&&("unique"in e&&(t.unique=e.unique!==!1),typeof e.placeholder=="string"&&(t.placeholder=e.placeholder),typeof e.maximumItems=="number"&&t.maximumItems>0&&(t.maximumItems=e.maximumItems)),t},A=e=>{console.log("StringsEditor",e);let[t,s]=(0,r.useState)(""),{unique:l,placeholder:n,maximumItems:f}=(0,r.useMemo)(()=>F(e.options),[e.options]),I=t.trim().length===0,_=!l||!e.value.includes(t),d=f!==void 0&&e.value.length>=f,m=!I&&_&&!d,p=()=>{m&&(e.commit([...e.value,t]),s(""))},O=a=>{a.key==="Enter"&&(a.preventDefault(),p())},P=(0,r.useMemo)(()=>e.value.map(a=>({label:a,key:a})),[e.value]);return r.default.createElement("div",null,r.default.createElement("ul",{className:u.list},r.default.createElement(i.MultiSelectBox_ListPreviewSortable,{disabled:e.disabled,values:e.value,options:P,optionValueAccessor:q,onValuesChange:e.commit,ListPreviewElement:i.SelectBox_Option_SingleLine,dndType:"multiselect-box-value"})),r.default.createElement("div",{className:u.inputWrapper},r.default.createElement(i.TextInput,{id:e.id,value:t,onChange:s,onKeyUp:O,disabled:e.disabled||d,placeholder:n?e.i18nRegistry.translate(n):void 0,className:u.input}),r.default.createElement(i.IconButton,{icon:"check",onClick:p,disabled:e.disabled||!m,className:u.submitButton,style:"neutral"})))};S("Prgfx.Neos.StringsEditor:StringsEditor",{},e=>{e.get("inspector").get("editors").set("Prgfx.Neos.StringsEditor",{component:A})});})();
